if(console.log("%cjquery.context-menu developed by %c\u0130sa Eken <hello@isaeken.com.tr>","font-size: larger; background-color: black; color: white;","font-size: larger; background-color: black; color: white; font-weight: bold;"),!window.jQuery)throw new Error("jQuery plugin is required!");const mouseButton={LEFT:1,MIDDLE:2,RIGHT:3};(function(a){function b(a,b=!1){if(!a)throw new Error("data parameter is required!");if(b)throw new Error("jquery.context-menu: "+a+"");return!1,a}function c(){var b=0;return a("*").each(function(){var c=parseInt(a(this).css("z-index"));c>b&&(b=c)}),b+1}var d={x:0,y:0},e={width:0,height:0,paddingLeft:0,paddingRight:0,paddingTop:0,paddingBottom:0},f=150;a.fn.contextMenuOpenAnimation=function(b=function(){}){var g={left:d.x,top:d.y};g.left+a(this).outerWidth(!0)>a(window).width()&&(g.left=a(window).width()-a(this).outerWidth(!0)),g.top+a(this).outerHeight(!0)>a(window).height()&&(g.top=a(window).height()-a(this).outerHeight(!0)-40),e.height>a(window).height()?(g.top=2,a(this).css("height",a(window).height()-40)):a(this).css("height","unset"),a(this).css("display","block"),a(this).css("padding","0"),a(this).css("opacity","0"),a(this).css("z-index",c()),a(this).css("top",g.top),a(this).css("left",g.left),a(this).animate({"padding-top":e.paddingTop,"padding-bottom":e.paddingBottom,"padding-left":e.paddingLeft,"padding-right":e.paddingRight,opacity:1},f,function(){b()})},a.fn.contextMenuCloseAnimation=function(b=function(){}){a(this).animate({"padding-top":0,"padding-bottom":0,"padding-left":0,"padding-right":0,opacity:0},f,function(){a(this).css("display","none"),b()})},a.fn.contextMenu=function(){b("Context menu created.");var c=this,f=[],g=a("<div class=\"context-menu\"></div>");return a(window).mousemove(function(b){d={x:b.pageX-a(window).scrollLeft(),y:b.pageY-a(window).scrollTop()}}),{button:mouseButton.RIGHT,menu:function(){var c=this;return{items:f,addItem:function(a,d=function(){}){if(b("Adding new item to context menu."),"function"!=typeof d&&"string"==typeof d){var e=d;d=function(){window.location.href=e},b("Item trigger is a link.")}else"function"!=typeof d&&b("The \"click\" variable can only be a function or string!",!0);return f.push({text:a,click:d}),b("Added a new item in to context menu."),c.items=f},removeItem:function(a){b("Removing a item ("+a+") in to context menu items.");var d=[];return c.items.forEach(function(b,c){a!==c&&d.push(b)}),b("Removed a item ("+a+") in to context menu items."),f=d,c.items=f},element:function(){b("Generating context menu HTML.");var d=a("<ul></ul>");return g.html(""),g.append(d),c.items.forEach(function(b){var e=a("<a></a>");e.html(b.text),e.on("click",function(){b.click(),c.onclick()}),d.append(a("<li></li>").append(e))}),b("Generated context menu HTML."),g}}},open:function(c=function(){}){b("Opening context menu."),a(".context-menu").each(function(){"none"!==a(this).css("display")&&a(this).contextMenuCloseAnimation()}),g.contextMenuOpenAnimation(c()),this.onopen()},close:function(a=function(){}){var c=this;b("Closing context menu."),g.contextMenuCloseAnimation(function(){c.update(),a()}),this.onclose()},onopen:function(){b("Context menu openned.")},onclose:function(){b("Context menu closed.")},onclick:function(){this.close()},init:function(){var d=this;b("Initializing context menu."),this.button||b("Button parameter is required!",!0),1>this.menu().items.length&&b("No any items added!",!0),a("body").append(this.menu().element),this.menu().element().hide(),e={width:this.menu().element().outerWidth(!0),height:this.menu().element().outerHeight(!0),paddingTop:this.menu().element().css("padding-top"),paddingBottom:this.menu().element().css("padding-bottom"),paddingLeft:this.menu().element().css("padding-left"),paddingRight:this.menu().element().css("padding-right")},c.mousedown(function(c){b("Trigger element clicked."),b("Triggered mouse button: "+c.which+", Required mouse button: "+d.button),c.stopPropagation(),a(".context-menu").each(function(){a(this)!==g&&"none"!==a(this).css("display")&&a(this).contextMenuCloseAnimation()}),c.which===d.button?"none"===g.css("display")?d.open():d.close(function(){d.open()}):d.close()}),c.contextmenu(function(){return!1}),a(document).mousedown(function(b){var c=a(b.target),e=c.prop("tagName"),f=!0;"A"===e&&"LI"===c.parent().prop("tagName")&&"UL"===c.parent().parent().prop("tagName")&&c.parent().parent().parent().hasClass("context-menu")&&(f=!1),"LI"===e&&"UL"===c.parent().prop("tagName")&&c.parent().parent().hasClass("context-menu")&&(f=!1),"UL"===e&&c.parent().hasClass("context-menu")&&(f=!1),c.hasClass("context-menu")&&(f=!1),f&&d.close()}),a(document).keyup(function(b){27===b.keyCode&&a(".context-menu").each(function(){"none"!==a(this).css("display")&&a(this).contextMenuCloseAnimation()})})},update:function(){b("Updating context menu."),a("body").append(this.menu().element),this.menu().element().hide()}}},a.autoInitializeContextMenus=function(){a(".context-menu-trigger").each(function(){if(b("Founded a HTML trigger."),!a(this).has(".context-menu-content"))b("This trigger not have a content.");else if(!a(this).children(".context-menu-content").has("li a"))b("This trigger content not have a any items.");else{var c=a(this).contextMenu();c.button=a(this).hasClass("context-menu-button-right")?mouseButton.RIGHT:a(this).hasClass("context-menu-button-middle")?mouseButton.MIDDLE:mouseButton.LEFT,a(this).children(".context-menu-content").children("li").each(function(){if(a(this).has("a")){var b=a(this).children("a").first(),d=null,e=null;d=b.html(),e=b.attr("href"),typeof e!="undefined"&&!1!==e||(e=new Function(b.attr("onclick"))),c.menu().addItem(d,e)}}),c.init()}})}})(jQuery),$(document).ready(function(){$.autoInitializeContextMenus()});